# Agent Talk Environment Variables

# =============================================================================
# HYPR Mode Configuration
# =============================================================================

# Set to 'production' to use HYPR Micro, HYPR Storage, and HYPR Proxy
# Set to 'development' or leave unset for local development with in-memory storage
HYPR_MODE=production

# HYPR Platform URL (default: https://onhyper.io)
HYPR_PLATFORM_URL=https://onhyper.io

# HYPR App Slug (identifies this app in HYPR platform)
HYPR_APP_SLUG=talk

# Use HYPR proxy for external API calls (set to 'true' in production)
USE_HYPR_PROXY=true

# =============================================================================
# Server Configuration
# =============================================================================

NODE_ENV=production
PORT=3001
BASE_URL=https://talk.onhyper.io

# =============================================================================
# TTS Configuration
# =============================================================================

# TTS mode: simulation | edge | elevenlabs
# - simulation: Silent placeholder audio (free, for testing)
# - edge: Free Microsoft Edge TTS (no API key needed) - DEFAULT
# - elevenlabs: Premium ElevenLabs TTS (requires API key, see below)
TTS_MODE=edge

# ElevenLabs API Key (only needed if TTS_MODE=elevenlabs)
#
# PRODUCTION (HYPR): Set ELEVENLABS_API_KEY in HYPR Dashboard, not here!
#                     The proxy will inject it automatically.
#                     See docs/PROXY.md for details.
#
# DEVELOPMENT: Set locally for direct API calls (USE_HYPR_PROXY=false)
# ELEVENLABS_API_KEY=your-elevenlabs-api-key

# =============================================================================
# Storage Configuration
# =============================================================================

# Storage backend: local | hypr
# - local: Filesystem storage (development)
# - hypr: HYPR Storage via proxy (production)
STORAGE_BACKEND=local

# Local storage path (only for STORAGE_BACKEND=local)
STORAGE_PATH=/app/data/audio

# HYPR Storage bucket name (only for STORAGE_BACKEND=hypr)
STORAGE_BUCKET=audio

# =============================================================================
# Database Configuration (Development Only)
# =============================================================================

# In production, HYPR Micro is used automatically when HYPR_MODE=production
# These are only used in development mode:

DATABASE_PATH=/app/data/agent-talk.db

# =============================================================================
# Authentication
# =============================================================================

SESSION_SECRET=your-random-session-secret-32-chars
JWT_SECRET=your-random-jwt-secret-32-chars

# =============================================================================
# HYPR Secrets (Set via HYPR Dashboard, not here!)
# =============================================================================

# These secrets are set in the HYPR dashboard and injected via proxy:
# - ELEVENLABS_API_KEY: For TTS via elevenlabs proxy
# - STRIPE_SECRET_KEY: For billing via stripe proxy
# - WORKOS_API_KEY: For auth via workos proxy
# - HYPERMICRO_API_KEY: For HYPR Micro database access

# =============================================================================
# Optional: Analytics
# =============================================================================

# POSTHOG_API_KEY=phc_xxx
# LOG_LEVEL=info

# =============================================================================
# Development Only
# =============================================================================

# Seed development data on startup (development mode only)
# SEED_ON_START=true

# =============================================================================
# Stripe Billing (Optional - enables Pro tier subscriptions)
# =============================================================================

# In HYPR mode (HYPR_MODE=production), STRIPE_SECRET_KEY is injected via proxy.
# Set it in the HYPR Dashboard under Secrets, not here.

# Webhook secret (required in all modes - webhooks come directly from Stripe)
STRIPE_WEBHOOK_SECRET=whsec_xxx

# Price ID for Pro tier subscription
STRIPE_PRO_PRICE_ID=price_xxx

# For local development without HYPR proxy:
# STRIPE_SECRET_KEY=sk_test_xxx